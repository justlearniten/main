function userSelectionChanged(){selectionEndTimeout&&clearTimeout(selectionEndTimeout);selectionEndTimeout=setTimeout(function(){$(window).trigger("selectionEnd")},500)}function getSelectionText(){var n="";return window.getSelection?n=window.getSelection().toString():document.selection&&document.selection.type!="Control"&&(n=document.selection.createRange().text),n}function getSelectionCoords(){var i=document.selection,n,r,u=0,f=0,t,e;return i?i.type!="Control"&&(n=i.createRange(),n.collapse(!0),u=n.boundingLeft,f=n.boundingTop):window.getSelection&&(i=window.getSelection(),i.rangeCount&&(n=i.getRangeAt(0).cloneRange(),n.getClientRects&&(n.collapse(!0),n.getClientRects().length>0&&(r=n.getClientRects()[0],u=r.left,f=r.top)),u==0&&f==0&&(t=document.createElement("span"),t.getClientRects&&(t.appendChild(document.createTextNode("â€‹")),n.insertNode(t),r=t.getClientRects()[0],u=r.left,f=r.top,e=t.parentNode,e.removeChild(t),e.normalize())))),{x:u,y:f}}$(document).on("click",".panel-heading span.clickable",function(){var n=$(this);n.hasClass("panel-collapsed")?(n.parents(".panel").find(".panel-body").slideDown(),n.removeClass("panel-collapsed"),n.find("i").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up")):(n.parents(".panel").find(".panel-body").slideUp(),n.addClass("panel-collapsed"),n.find("i").removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down"))});var selectionEndTimeout=null;document.onselectionchange=userSelectionChanged;$(window).bind("selectionEnd",function(){selectionEndTimeout=null;var n=getSelectionText(),t=getSelectionCoords();showTranslation(n,t)});